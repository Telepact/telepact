import java.util.List;
import java.util.Map;

public class {{className}} {
    {{#each properties}}
    public final {{> typeResolver this.type}} {{this.name}};
    {{/each}}

    public {{className}}({{#each properties}}{{typeResolver this.type}} {{this.name}}, {{/each}}) {
        {{#each properties}}
        this.{{this.name}} = {{this.name}};
        {{/each}}
    }
}

{{!-- Helper to recursively resolve types --}}
{{#*inline "typeResolver"}}
    {{#if (eq @root.[0] "array")}}
        List<{{#with (slice @root 1)}}{{> typeResolver .}}{{/with}}>
    {{else if (eq @root.[0] "object")}}
        Map<String, {{#with (slice @root 1)}}{{> typeResolver .}}{{/with}}>
    {{else if (eq @root "boolean")}}
        Boolean
    {{else if (eq @root "integer")}}
        Integer
    {{else if (eq @root "number")}}
        Number
    {{else if (eq @root "string")}}
        String
    {{else}}
        {{@root}}
    {{/if}}
{{/inline}}